version: "3"
services:
  tdlight:
    image: tdlight/tdlightbotapi:latest
    restart: unless-stopped
    ports:
      - 8081:8081
      - 8082:8082
    networks:
      - tdlight
    environment:
      - TELEGRAM_API_ID
      - TELEGRAM_API_HASH
      - TELEGRAM_STAT
      - TELEGRAM_STAT_HIDE_SENSIBLE_DATA
      - TELEGRAM_FILTER
      - TELEGRAM_MAX_WEBHOOK_CONNECTIONS
      - TELEGRAM_VERBOSITY
      - TELEGRAM_MAX_CONNECTIONS
      - TELEGRAM_PROXY
      - TELEGRAM_LOCAL
      - TELEGRAM_NO_FILE_LIMIT
      - TELEGRAM_ALLOW_USERS
      - TELEGRAM_ALLOW_USERS_REGISTRATION
      - TELEGRAM_INSECURE
      - TELEGRAM_RELATIVE
      - TELEGRAM_MAX_BATCH
      - TELEGRAM_FILE_EXPIRATION_TIME
      - TELEGRAM_LOGS
    volumes:
      - tdlight_data:/var/lib/telegram-bot-api
  nginx:
    image: nginx:alpine
    user: root
    restart: always
    ports:
      - 8080:80
    networks:
      - tdlight
    volumes:
      - tdlight_data:/srv
      - ./nginx.conf:/etc/nginx/conf.d/default.conf

volumes:
  tdlight_data:


networks:
  tdlight:
